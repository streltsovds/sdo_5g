<template>
  <div class="list-daily" >
    <div class="list-daily__title" @click="openList">
      <div>
        <span>{{ title }}</span>
      </div>
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" :style="{transform: isShow ? 'rotate(180deg)' :''}">
        <path d="M16.59 8.29492L12 12.8749L7.41 8.29492L6 9.70492L12 15.7049L18 9.70492L16.59 8.29492Z" fill="black" fill-opacity="0.54"/>
      </svg>
    </div>
    <transition name="anim-container">
      <div class="list-daily__container" v-if="isShow">
        <div class="list-daily__container-el" v-for="(el, key) in dataList.data" :key="key">
          <div class="list-daily__container-el__img" :style="{'background-image': `url(${el.iconUrl})` || ''}"></div>
          <div class="list-daily__container-el__info">
            <a :href="el.executeUrl"><span>{{ el.lessonTitle }}</span></a>
          </div>
          <div class="list-daily__container-el__time">
            <div class="list-daily__container-el__time-none" v-if="!el.beginTime && !el.endTime">
              <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.46333 10.7738C8.75857 10.7508 9.02772 10.6002 9.20242 10.36L11.8579 6.68895C11.9393 6.57635 11.9271 6.42093 11.8284 6.32223C11.7297 6.22382 11.5743 6.21163 11.4617 6.29274L7.79003 8.94905C7.55066 9.12319 7.40006 9.39234 7.37709 9.68758C7.35412 9.98282 7.46104 10.2718 7.67006 10.4808C7.86037 10.6714 8.11703 10.7769 8.38391 10.7769C8.41029 10.7769 8.43667 10.7758 8.46333 10.7738ZM7.94261 9.73182C7.95254 9.60221 8.0189 9.48395 8.12327 9.40794L10.363 7.78766L8.74325 10.0268C8.66668 10.132 8.54841 10.1981 8.4188 10.2083C8.28975 10.2168 8.16298 10.172 8.07081 10.0798C7.97948 9.98821 7.9324 9.86115 7.94261 9.73182Z" fill="black"/>
                <path d="M14.8162 5.54859C14.8133 5.54264 14.8133 5.5364 14.8102 5.53044C14.8068 5.52477 14.8014 5.52165 14.7977 5.51626C14.511 5.02448 14.1718 4.56701 13.7867 4.15237L14.3959 3.54345L14.7969 3.94448L16 2.74112L14.7969 1.53803L13.5935 2.74112L13.9948 3.14243L13.3856 3.75134C12.971 3.3662 12.5138 3.02671 12.0217 2.73998C12.0164 2.73629 12.0132 2.7309 12.0076 2.7275C12.0016 2.7241 11.9954 2.72438 11.9894 2.72126C11.1122 2.21586 10.1266 1.87922 9.07586 1.75585V1.41806H9.50128C9.89238 1.41806 10.2103 1.10013 10.2103 0.709031C10.2103 0.31793 9.8921 0 9.501 0H6.94848C6.55738 0 6.23945 0.31793 6.23945 0.709031C6.23945 1.10013 6.55738 1.41806 6.94848 1.41806H7.3739V1.74592C7.0676 1.77853 6.76187 1.82845 6.45954 1.89765C6.30695 1.93254 6.21137 2.08484 6.24654 2.23742C6.28143 2.39 6.43373 2.48586 6.58631 2.45041C6.84723 2.39057 7.11071 2.34548 7.37475 2.31513L7.67907 2.29159C7.77209 2.2845 7.85775 2.27939 7.94113 2.27542V2.83613C7.94113 2.99296 8.0679 3.11974 8.22474 3.11974C8.38158 3.11974 8.50835 2.99296 8.50835 2.83613V2.27741C9.57502 2.32647 10.5801 2.61292 11.4738 3.08429L11.1942 3.56841C11.1159 3.70426 11.1624 3.87755 11.298 3.95583C11.3425 3.98164 11.3913 3.99383 11.4395 3.99383C11.5376 3.99383 11.6329 3.94306 11.6854 3.85203L11.9642 3.36903C12.8516 3.932 13.6054 4.68585 14.1684 5.57327L13.6854 5.85206C13.5501 5.93034 13.5036 6.10362 13.5822 6.23948C13.6349 6.33051 13.7299 6.38128 13.8281 6.38128C13.8763 6.38128 13.9251 6.36909 13.9696 6.34328L14.4537 6.06364C14.9316 6.97006 15.2189 7.99163 15.2617 9.07532H14.7016C14.5448 9.07532 14.418 9.20209 14.418 9.35893C14.418 9.51577 14.5448 9.64254 14.7016 9.64254H15.2617C15.2189 10.7262 14.9316 11.7478 14.4537 12.6542L13.9696 12.3746C13.834 12.2963 13.6605 12.3422 13.5822 12.4784C13.5039 12.6142 13.5504 12.7875 13.686 12.8658L14.169 13.1446C13.606 14.032 12.8522 14.7859 11.9647 15.3488L11.6859 14.8658C11.6074 14.7297 11.4335 14.6835 11.2985 14.762C11.1627 14.8403 11.1162 15.0139 11.1947 15.1494L11.4744 15.6336C10.5807 16.1049 9.57559 16.3914 8.50892 16.4405V15.8823C8.50892 15.7255 8.38214 15.5987 8.22531 15.5987C8.06847 15.5987 7.94169 15.7255 7.94169 15.8823V16.4427C7.48877 16.4271 7.03442 16.3704 6.58716 16.2677C6.43458 16.2311 6.28228 16.3281 6.24739 16.4807C6.21223 16.6333 6.3078 16.7856 6.46039 16.8205C7.02648 16.951 7.60476 17.0168 8.17851 17.0168C8.19241 17.0168 8.20574 17.0159 8.21963 17.0156C8.22162 17.0156 8.22304 17.0168 8.22474 17.0168C8.22701 17.0168 8.22899 17.0153 8.23126 17.0153C9.59459 17.006 10.8737 16.6378 11.9803 16.002C11.9891 15.998 11.9985 15.996 12.007 15.9909C12.0127 15.9875 12.0158 15.9821 12.0212 15.9784C13.1667 15.3108 14.1239 14.3548 14.7929 13.2101C14.7983 13.2024 14.8051 13.1965 14.8099 13.188C14.8133 13.182 14.8131 13.1758 14.8159 13.1698C15.4637 12.0467 15.836 10.7461 15.836 9.35921C15.836 7.97235 15.4637 6.6717 14.8162 5.54859ZM14.7966 2.34009L15.1976 2.74112L14.7966 3.14243L14.3953 2.74112L14.7966 2.34009ZM7.94113 1.70763V0.850838H6.94848C6.87049 0.850838 6.80668 0.787025 6.80668 0.709031C6.80668 0.631038 6.87049 0.567225 6.94848 0.567225H9.501C9.57899 0.567225 9.6428 0.631038 9.6428 0.709031C9.6428 0.787025 9.57899 0.850838 9.501 0.850838H8.50835V1.70763C8.40965 1.70366 8.3155 1.70168 8.22474 1.70168C8.2168 1.70168 8.20772 1.70224 8.19978 1.70224C8.19269 1.70224 8.1856 1.70168 8.17851 1.70168C8.132 1.70168 8.08549 1.70479 8.03897 1.70565C8.00607 1.7065 7.97516 1.70621 7.94113 1.70763Z" fill="black"/>
                <path d="M5.67238 3.9707H4.25432C4.09748 3.9707 3.9707 4.09748 3.9707 4.25432C3.9707 4.41115 4.09748 4.53793 4.25432 4.53793H5.67238C5.82922 4.53793 5.95599 4.41115 5.95599 4.25432C5.95599 4.09748 5.82922 3.9707 5.67238 3.9707Z" fill="black"/>
                <path d="M5.67247 5.95605H2.83635C2.67951 5.95605 2.55273 6.08283 2.55273 6.23967C2.55273 6.3965 2.67951 6.52328 2.83635 6.52328H5.67247C5.82931 6.52328 5.95608 6.3965 5.95608 6.23967C5.95608 6.08283 5.82931 5.95605 5.67247 5.95605Z" fill="black"/>
                <path d="M5.67256 7.94141H1.41838C1.26154 7.94141 1.13477 8.06818 1.13477 8.22502C1.13477 8.38186 1.26154 8.50863 1.41838 8.50863H5.67256C5.8294 8.50863 5.95618 8.38186 5.95618 8.22502C5.95618 8.06818 5.8294 7.94141 5.67256 7.94141Z" fill="black"/>
                <path d="M5.67225 9.92676H0.283612C0.126775 9.92676 0 10.0535 0 10.2104C0 10.3672 0.126775 10.494 0.283612 10.494H5.67225C5.82909 10.494 5.95586 10.3672 5.95586 10.2104C5.95586 10.0535 5.82909 9.92676 5.67225 9.92676Z" fill="black"/>
                <path d="M5.67272 11.9121H1.98576C1.82892 11.9121 1.70215 12.0389 1.70215 12.1957C1.70215 12.3526 1.82892 12.4793 1.98576 12.4793H5.67272C5.82956 12.4793 5.95634 12.3526 5.95634 12.1957C5.95634 12.0389 5.82956 11.9121 5.67272 11.9121Z" fill="black"/>
                <path d="M5.67222 13.8975H3.68693C3.5301 13.8975 3.40332 14.0242 3.40332 14.1811C3.40332 14.3379 3.5301 14.4647 3.68693 14.4647H5.67222C5.82906 14.4647 5.95583 14.3379 5.95583 14.1811C5.95583 14.0242 5.82906 13.8975 5.67222 13.8975Z" fill="black"/>
              </svg>
              <span>не ограничено</span>
            </div>
            <div class="list-daily__container-el__time-none" v-else>
              <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.46333 10.7738C8.75857 10.7508 9.02772 10.6002 9.20242 10.36L11.8579 6.68895C11.9393 6.57635 11.9271 6.42093 11.8284 6.32223C11.7297 6.22382 11.5743 6.21163 11.4617 6.29274L7.79003 8.94905C7.55066 9.12319 7.40006 9.39234 7.37709 9.68758C7.35412 9.98282 7.46104 10.2718 7.67006 10.4808C7.86037 10.6714 8.11703 10.7769 8.38391 10.7769C8.41029 10.7769 8.43667 10.7758 8.46333 10.7738ZM7.94261 9.73182C7.95254 9.60221 8.0189 9.48395 8.12327 9.40794L10.363 7.78766L8.74325 10.0268C8.66668 10.132 8.54841 10.1981 8.4188 10.2083C8.28975 10.2168 8.16298 10.172 8.07081 10.0798C7.97948 9.98821 7.9324 9.86115 7.94261 9.73182Z" fill="black"/>
                <path d="M14.8162 5.54859C14.8133 5.54264 14.8133 5.5364 14.8102 5.53044C14.8068 5.52477 14.8014 5.52165 14.7977 5.51626C14.511 5.02448 14.1718 4.56701 13.7867 4.15237L14.3959 3.54345L14.7969 3.94448L16 2.74112L14.7969 1.53803L13.5935 2.74112L13.9948 3.14243L13.3856 3.75134C12.971 3.3662 12.5138 3.02671 12.0217 2.73998C12.0164 2.73629 12.0132 2.7309 12.0076 2.7275C12.0016 2.7241 11.9954 2.72438 11.9894 2.72126C11.1122 2.21586 10.1266 1.87922 9.07586 1.75585V1.41806H9.50128C9.89238 1.41806 10.2103 1.10013 10.2103 0.709031C10.2103 0.31793 9.8921 0 9.501 0H6.94848C6.55738 0 6.23945 0.31793 6.23945 0.709031C6.23945 1.10013 6.55738 1.41806 6.94848 1.41806H7.3739V1.74592C7.0676 1.77853 6.76187 1.82845 6.45954 1.89765C6.30695 1.93254 6.21137 2.08484 6.24654 2.23742C6.28143 2.39 6.43373 2.48586 6.58631 2.45041C6.84723 2.39057 7.11071 2.34548 7.37475 2.31513L7.67907 2.29159C7.77209 2.2845 7.85775 2.27939 7.94113 2.27542V2.83613C7.94113 2.99296 8.0679 3.11974 8.22474 3.11974C8.38158 3.11974 8.50835 2.99296 8.50835 2.83613V2.27741C9.57502 2.32647 10.5801 2.61292 11.4738 3.08429L11.1942 3.56841C11.1159 3.70426 11.1624 3.87755 11.298 3.95583C11.3425 3.98164 11.3913 3.99383 11.4395 3.99383C11.5376 3.99383 11.6329 3.94306 11.6854 3.85203L11.9642 3.36903C12.8516 3.932 13.6054 4.68585 14.1684 5.57327L13.6854 5.85206C13.5501 5.93034 13.5036 6.10362 13.5822 6.23948C13.6349 6.33051 13.7299 6.38128 13.8281 6.38128C13.8763 6.38128 13.9251 6.36909 13.9696 6.34328L14.4537 6.06364C14.9316 6.97006 15.2189 7.99163 15.2617 9.07532H14.7016C14.5448 9.07532 14.418 9.20209 14.418 9.35893C14.418 9.51577 14.5448 9.64254 14.7016 9.64254H15.2617C15.2189 10.7262 14.9316 11.7478 14.4537 12.6542L13.9696 12.3746C13.834 12.2963 13.6605 12.3422 13.5822 12.4784C13.5039 12.6142 13.5504 12.7875 13.686 12.8658L14.169 13.1446C13.606 14.032 12.8522 14.7859 11.9647 15.3488L11.6859 14.8658C11.6074 14.7297 11.4335 14.6835 11.2985 14.762C11.1627 14.8403 11.1162 15.0139 11.1947 15.1494L11.4744 15.6336C10.5807 16.1049 9.57559 16.3914 8.50892 16.4405V15.8823C8.50892 15.7255 8.38214 15.5987 8.22531 15.5987C8.06847 15.5987 7.94169 15.7255 7.94169 15.8823V16.4427C7.48877 16.4271 7.03442 16.3704 6.58716 16.2677C6.43458 16.2311 6.28228 16.3281 6.24739 16.4807C6.21223 16.6333 6.3078 16.7856 6.46039 16.8205C7.02648 16.951 7.60476 17.0168 8.17851 17.0168C8.19241 17.0168 8.20574 17.0159 8.21963 17.0156C8.22162 17.0156 8.22304 17.0168 8.22474 17.0168C8.22701 17.0168 8.22899 17.0153 8.23126 17.0153C9.59459 17.006 10.8737 16.6378 11.9803 16.002C11.9891 15.998 11.9985 15.996 12.007 15.9909C12.0127 15.9875 12.0158 15.9821 12.0212 15.9784C13.1667 15.3108 14.1239 14.3548 14.7929 13.2101C14.7983 13.2024 14.8051 13.1965 14.8099 13.188C14.8133 13.182 14.8131 13.1758 14.8159 13.1698C15.4637 12.0467 15.836 10.7461 15.836 9.35921C15.836 7.97235 15.4637 6.6717 14.8162 5.54859ZM14.7966 2.34009L15.1976 2.74112L14.7966 3.14243L14.3953 2.74112L14.7966 2.34009ZM7.94113 1.70763V0.850838H6.94848C6.87049 0.850838 6.80668 0.787025 6.80668 0.709031C6.80668 0.631038 6.87049 0.567225 6.94848 0.567225H9.501C9.57899 0.567225 9.6428 0.631038 9.6428 0.709031C9.6428 0.787025 9.57899 0.850838 9.501 0.850838H8.50835V1.70763C8.40965 1.70366 8.3155 1.70168 8.22474 1.70168C8.2168 1.70168 8.20772 1.70224 8.19978 1.70224C8.19269 1.70224 8.1856 1.70168 8.17851 1.70168C8.132 1.70168 8.08549 1.70479 8.03897 1.70565C8.00607 1.7065 7.97516 1.70621 7.94113 1.70763Z" fill="black"/>
                <path d="M5.67238 3.9707H4.25432C4.09748 3.9707 3.9707 4.09748 3.9707 4.25432C3.9707 4.41115 4.09748 4.53793 4.25432 4.53793H5.67238C5.82922 4.53793 5.95599 4.41115 5.95599 4.25432C5.95599 4.09748 5.82922 3.9707 5.67238 3.9707Z" fill="black"/>
                <path d="M5.67247 5.95605H2.83635C2.67951 5.95605 2.55273 6.08283 2.55273 6.23967C2.55273 6.3965 2.67951 6.52328 2.83635 6.52328H5.67247C5.82931 6.52328 5.95608 6.3965 5.95608 6.23967C5.95608 6.08283 5.82931 5.95605 5.67247 5.95605Z" fill="black"/>
                <path d="M5.67256 7.94141H1.41838C1.26154 7.94141 1.13477 8.06818 1.13477 8.22502C1.13477 8.38186 1.26154 8.50863 1.41838 8.50863H5.67256C5.8294 8.50863 5.95618 8.38186 5.95618 8.22502C5.95618 8.06818 5.8294 7.94141 5.67256 7.94141Z" fill="black"/>
                <path d="M5.67225 9.92676H0.283612C0.126775 9.92676 0 10.0535 0 10.2104C0 10.3672 0.126775 10.494 0.283612 10.494H5.67225C5.82909 10.494 5.95586 10.3672 5.95586 10.2104C5.95586 10.0535 5.82909 9.92676 5.67225 9.92676Z" fill="black"/>
                <path d="M5.67272 11.9121H1.98576C1.82892 11.9121 1.70215 12.0389 1.70215 12.1957C1.70215 12.3526 1.82892 12.4793 1.98576 12.4793H5.67272C5.82956 12.4793 5.95634 12.3526 5.95634 12.1957C5.95634 12.0389 5.82956 11.9121 5.67272 11.9121Z" fill="black"/>
                <path d="M5.67222 13.8975H3.68693C3.5301 13.8975 3.40332 14.0242 3.40332 14.1811C3.40332 14.3379 3.5301 14.4647 3.68693 14.4647H5.67222C5.82906 14.4647 5.95583 14.3379 5.95583 14.1811C5.95583 14.0242 5.82906 13.8975 5.67222 13.8975Z" fill="black"/>
              </svg>
              <span v-if="el.beginTime"> {{ `${!el.endTime ? 'c': ''} ${formatTime(el.beginTime)}` }} </span>
              <span class="time-delimiter" v-if="el.beginTime && el.endTime"> - </span>
              <span v-if="el.endTime"> {{ `${!el.beginTime ? 'до': ''} ${formatTime(el.endTime)}` }} </span>
            </div>
          </div>
        </div>
      </div>
    </transition>
  </div>
</template>

<script>
export default {
  name: "listDaily",
  props: {
    dataList: {
      type: Object,
      default: () => {}
    },
    title: {
      type: String,
      default: ''
    },
    show: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      isShow: this.show || false
    }
  },
  methods: {
    openList() {
      this.isShow = !this.isShow
    },
    formatTime(time) {
      return `${time.split(':')[0]}:${time.split(':')[1]}`
    }
  }
}
</script>

<style lang="scss">
.list-daily {
  width: 100%;
  height: auto;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  position: relative;
  flex-direction: column;
  &__title {
    width: 100%;
    height: 55px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    > div {
      width: 90%;
      white-space: nowrap;
      overflow: hidden;
      display: flex;
      > span {
        font-weight: 500;
        font-size: 16px;
        line-height: 24px;
        letter-spacing: 0.02em;
        color: #1E1E1E;
        text-overflow: ellipsis;
        white-space: nowrap;
        padding-right: 5px;
        overflow: hidden;
      }
    }
    > svg {
      transition: .2s ease-in-out;
    }
  }
  &__container {
    width: 100%;
    height: auto;
    display: flex;
    justify-content: flex-start;
    flex-direction: column;
    align-items: center;
    padding: 12px 0 26px 26px;
    &-el {
      width: 100%;
      height: 26px;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      &__img {
        width: 4%;
        height: 24px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        margin-right: 12.5px;
      }
      &__info {
        width: 63%;
        height: 100%;
        display: flex;
        justify-content: flex-start;
        align-items: center;
        overflow: hidden;
        cursor: default;
        margin-right: 7%;
        > a {
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: flex-start;
          align-items: center;
          text-decoration: none;
          overflow: hidden;
          cursor: default;
          > span {
            font-size: 14px;
            line-height: 21px;
            letter-spacing: 0.02em;
            color: #70889E;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding-right: 5px;
            overflow: hidden;
          }
        }
      }
      &__time {
        width: 26%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        &-none {
          width: 100%;
          height: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          .time-delimiter {
            margin: 0 2px;
          }
          > svg {
            margin-right: 6px;
          }
          > span {
            font-weight: 500;
            font-size: 14px;
            line-height: 21px;
            letter-spacing: 0.02em;
            color: #696969;
          }
        }

      }
      &:hover {
        > .list-daily__container-el__info {
          > a {
            > span {
              color: #4A90E2;
            }
          }
        }
      }

      &:not(:last-child) {
        margin-bottom: 16px;
      }

    }
  }

  .anim-container-enter-active, .anim-container-leave-active {
    transition: opacity .1s;
  }

  .anim-container-enter, .anim-container-leave-to /* .fade-leave-active до версии 2.1.8 */ {
    opacity: 0;
  }
}
@media(max-width: 768px) {
  .list-daily__title {
    height: 45px;
  }
  .list-daily__container {
    padding: 10px;
    padding-right: 0;
    &-el__info {
      margin-right: 0;
    }
    &-el__time {
      width: 35%;
      min-width: 120px;
    }
    &-el__img {
      min-width: 17px;
    }
  }
}
@media(max-width: 560px) {
  .list-daily__title {
    & > div > span {
      font-size: 13px;
      line-height: 16px;
    }
  }
  .list-daily__container {
    &-el__info {
      & > a > span {
        font-size: 12px;
        line-height: 17px;
      }
    }
    &-el__time-none > span {
      font-size: 11px;
      line-height: 17px;
    }
  }
}
</style>
